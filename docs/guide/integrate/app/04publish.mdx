---
title: "Step 04: Publish your first AHQ Store app"
---

import { PackageManagerTabs } from "rspress/theme";

This guide will finally publish your first `AHQStore` application on AHQ Store Platform.
So, lets get into it.

## Understanding the configuration file

Now, let us understand the configuration file:-

This is what you'll find under `.ahqstore/config.json`

:::details config.json

```js title="config.json"
{
  "$schema": "./spec.schema.json",
  "0iUdtpFh2LIWsRKpl9EeSbYff6RDnIu0Tyo207sv": {
    "appId": "0iUdtpFh2LIWsRKpl9EeSbYff6RDnIu0Tyo207sv",
    "appShortcutName": "My Application",
    "appDisplayName": "My Application - Dive into how to publish apps",
    "authorId": "df967833eecb0bc1d79270f3f5c7aad807242d8ab398276b567a7bb21b83d471",
    "description": "",
    "repo": {
      "author": "ahqstore",
      "repo": "tutorial-electron"
    },
    "platform": {
      "winAmd64Platform": null,
      "winArm64Platform": null,
      "linuxAmd64Platform": null,
      "linuxArm64Platform": null,
      "linuxArm32Platform": null,
      "androidUniversal": null,
      "androidOptions": {
        "minSdk": 29,
        "abi": ["Aarch64", "Armv7", "X86", "X64"]
      },
      "winAmd64Options": {
        "zip_file_exec": null,
        "exe_installer_args": [],
        "scope": null
      },
      "winArm64Options": {
        "zip_file_exec": null,
        "exe_installer_args": [],
        "scope": null
      }
    },
    "finder": {
      "windowsAmd64Finder": {
        "startsWith": "This-is",
        "contains": "an",
        "endsWith": ".example"
      },
      "windowsArm64Finder": null,
      "linuxAmd64Finder": null,
      "linuxArm64Finder": null,
      "linuxArm32Finder": null,
      "androidUniversalFinder": null
    },
    "site": null,
    "redistributed": null,
    "license_or_tos": null
  }
}
```

:::

The template that we used (create-electron-vite) allows us for publish for :-

- winAmd64Platform (We'll use the zip version)
- winArm64Platform (We'll use the zip version)

This will almost identical for :

- linuxAmd64Platform (We'll use the AppImage Version)
- linuxArm64Platform (We'll use the AppImage Version)

### Why did you choose `zip` version over `NSIS`

**Zip** version has better integration with the **AHQ Store Architecture**, if we used the `NSIS` version, we'll lose :

- Managed installation experience
- Automatic Updates managed by AHQ Store
- Managed Uninstallation

## Configuring to deploy zip

In our template we update the `electron-builder` configuration to generate .zip binaries of my program.
Here is a screenshot that shows the diff.

<img src="/img/cli/gen.png" />

## Updating the `.ahqstore/config.json`

Now we update the finder part of the `config.json` to integrate the search algorithm that is used to
find the assets.

<img src="/img/cli/finder.png" />

We also update a few other fields, which we're highlighting below:

<img src="/img/cli/edits.png" />

### winAmd64Platform

We set it to `"WindowsZip"` to notify AHQ Store that we're using the ZIP. If you're using an IDE
like `Visual Studio Code`. It'll also show autocomplete

### winAmd64Options.`zip_file_exec`

We also need to set this field, this tells AHQ Store about the primary executable inside the zip
binary (i.e. `"My Cool Application.exe"`)

## Building the application

If you also followed the template that we used (create-electron-vite), you can simply

<PackageManagerTabs command={"run build"} />

and you'll get the binary (here we configured for .zip binary)

<img src="/img/cli/binary-electron.png" />

## Publishing to GitHub Releases

Publish your source code as a **Personal Public GitHub Repository**. As we had mentioned, AHQ Store
only accepts open sourced, public repos. Any attempt to work around this limitation can cause
termination of your AHQ Store Account, if found.

We now go to your **GitHub Repository** where all of your code changes is there.

(We assume that your code is open sourced and is in a public GitHub repository)

Upload the `zip` binary that you've got :

<img src="/img/cli/upload.png" />

**Publish the release**

## Using the CLI to generate `ahqstore.json`

Run these commands (powershell)

```powershell
$env:RELEASE_ID="latest"

ahqstore build
```

or (bash)

```bash
$RELEASE_ID="latest"

ahqstore build
```

Now in the cli output, you'll find some json data:

CLI output

```json
INFO Checking .ahqstore
[WARN] Automatically selecting the 1st key
INFO Getting latest release
You may set GH_TOKEN environment variable to load private repos
Validating config
✅ Resources are valid

0iUdtpFh2LIWsRKpl9EeSbYff6RDnIu0Tyo207sv.json
<-- json data --->
```

:::details Here's what we got

```json title="ahqstore.json"
{
  "appId": "0iUdtpFh2LIWsRKpl9EeSbYff6RDnIu0Tyo207sv",
  "appShortcutName": "My Application",
  "appDisplayName": "My Application - Dive into how to publish apps",
  "authorId": "df967833eecb0bc1d79270f3f5c7aad807242d8ab398276b567a7bb21b83d471",
  "releaseTagName": "v0.0.0",
  "downloadUrls": {
    "1": {
      "installerType": "WindowsZip",
      "asset": "My.Cool.Application-Windows-0.0.0-x64.zip",
      "url": ""
    }
  },
  "install": {
    "win32": {
      "assetId": 1,
      "exec": "My Cool Application.exe",
      "scope": null,
      "installerArgs": []
    },
    "winarm": null,
    "linux": null,
    "linuxArm64": null,
    "linuxArm7": null,
    "android": null
  },
  "displayImages": [],
  "description": "",
  "repo": { "author": "ahqstore", "repo": "tutorial-electron" },
  "version": "[11,219,107,190,191,233,201,107,124,10,230,237,19,198,12,117,169,168,220,128,26,17,222,242,34,85,107,94,2,48,248,214]",
  "site": null,
  "source": null,
  "license_or_tos": null,
  "resources": {
    "0": [
      <--binary--->
    ]
  },
  "verified": false
}

```

:::

Now upload that to the same release that you had published. Name the json file `ahqstore.json`

<img src="/img/cli/update-release.png" />

## Publish from AHQ Store

Click on `Publish`

<img src="/img/cli/publish.png" />

The other steps is self-explanatory.

Enter your GitHub Repository, click on `Verify` and wait for AHQ Store to do its own magic ✨

After verification step is complete, click on `Apply`

Now you will be redirected to `ahqstore/repo_community` in a issue named `Automation` where
a robot will show you the status.
